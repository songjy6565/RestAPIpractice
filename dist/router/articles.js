"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.artiRoutes=artiRoutes;var _express=require("express"),_express2=_interopRequireDefault(_express),_mysql=require("mysql"),_mysql2=_interopRequireDefault(_mysql),_comments=require("./comments");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function artiRoutes(u){var e=_express2.default.Router();return e.get("/",function(e,t,s){u.query("SELECT * FROM article",function(e,s){e?t.status(500).json({status:500,error:e,response:null}):t.status(200).json({status:200,error:null,response:s})})}),e.post("/",function(e,r,s){u.query("INSERT INTO article (author, content, date) VALUES (?, ?, ?)",[e.body.author,e.body.content,e.body.date],function(t,e){t?r.status(500).json({status:500,error:t,response:null}):u.query("SELECT LAST_INSERT_ID()",function(e,s){t?r.status(500).json({status:500,error:e,response:null}):r.status(200).json({status:200,error:null,response:s})})})}),e.get("/:number",function(e,t,s){u.query("SELECT * FROM article WHERE id=?",e.params.number,function(e,s){e?t.status(500).json({status:500,error:e,response:null}):t.status(200).json({status:200,error:null,response:s})})}),e.put("/:number",function(t,r,e){var s={author:t.body.author,content:t.body.content,date:t.body.date};u.query("UPDATE article SET ? WHERE id=?",[s,t.params.number],function(e,s){e?r.status(500).json({status:500,error:e,response:null}):r.status(200).json({status:200,error:null,response:t.params.number})})}),e.delete("/:number",function(t,r,e){u.query("DELETE FROM article WHERE id=?",t.params.number,function(e,s){e?r.status(500).json({status:500,error:e,response:null}):r.status(200).json({status:200,error:null,response:t.params.number})})}),e.use("/",(0,_comments.commRoutes)(u)),e}