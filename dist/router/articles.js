"use strict";module.exports=function(s,n){var t=require("express").Router(),r=(require("mysql"),require("./comments")(s,n));return t.get("/",function(s,r,t){n.query("SELECT * FROM article",function(s,t){s?r.status(500).json({status:500,error:s,response:null}):r.status(200).json({status:200,error:null,response:t})})}),t.post("/",function(s,e,t){n.query("INSERT INTO article (author, content, date) VALUES (?, ?, ?)",[s.body.author,s.body.content,s.body.date],function(r,s){r?e.status(500).json({status:500,error:r,response:null}):n.query("SELECT LAST_INSERT_ID()",function(s,t){r?e.status(500).json({status:500,error:s,response:null}):e.status(200).json({status:200,error:null,response:t})})})}),t.get("/:number",function(s,r,t){n.query("SELECT * FROM article WHERE id=?",s.params.number,function(s,t){s?r.status(500).json({status:500,error:s,response:null}):r.status(200).json({status:200,error:null,response:t})})}),t.put("/:number",function(r,e,s){var t={author:r.body.author,content:r.body.content,date:r.body.date};n.query("UPDATE article SET ? WHERE id=?",[t,r.params.number],function(s,t){s?e.status(500).json({status:500,error:s,response:null}):e.status(200).json({status:200,error:null,response:r.params.number})})}),t.delete("/:number",function(r,e,s){n.query("DELETE FROM article WHERE id=?",r.params.number,function(s,t){s?e.status(500).json({status:500,error:s,response:null}):e.status(200).json({status:200,error:null,response:r.params.number})})}),t.use("/",r),t};